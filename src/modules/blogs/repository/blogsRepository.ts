import {BlogModel, BlogWithIdModel} from "../models/blogsModels";import {blogsCollection} from "../../../mongodb/db";import {createDateISO} from "../../../shared/utils/createDateISO";export const blogsRepository = {    async create(data: BlogModel): Promise<BlogWithIdModel> {        const dateNow = new Date();        const newBlog: BlogWithIdModel = {            id: dateNow.getTime().toString(),            name: data.name,            description: data.description,            websiteUrl: data.websiteUrl,            createdAt: createDateISO(dateNow),        };        await blogsCollection.insertOne(newBlog);        return newBlog;    },    async findAll(): Promise<BlogWithIdModel[]> {        return blogsCollection.find({}).toArray();    },    async findById(id: BlogWithIdModel['id']): Promise<BlogWithIdModel | null> {        return blogsCollection.findOne({id});    },    async update(id: BlogWithIdModel['id'], newData: BlogModel): Promise<boolean> {        const result = await blogsCollection.updateOne({id}, {$set: newData});        return result.matchedCount === 1;    },    async delete(id: BlogWithIdModel['id']): Promise<boolean> {        const result = await blogsCollection.deleteOne({id});        return result.deletedCount === 1;    },};